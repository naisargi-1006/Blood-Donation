<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blood Donation Portal</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #f8f9fa; }
    .hero { background: #ffe5e5; padding: 40px; text-align: center; border-radius: 10px; }
    .hero h1 { font-size: 2.5rem; font-weight: bold; color: #d62828; }
    .card { margin-bottom: 30px; }
    .btn-primary { background-color: #d62828; border: none; }
    .btn-primary:hover { background-color: #b71c1c; }
    footer { margin-top: 30px; text-align: center; padding: 20px; background: #f1f1f1; border-radius: 10px; }
  </style>
</head>
<body>

  <!-- Hero Section -->
  <div class="container mt-4">
    <div class="hero shadow">
      <h1>Online Blood Donation Management</h1>
      <p class="lead"><h1>By Naisargi Trivedi</p></h1>
      <h4>Enrollment No.:240905040069</h4>
      <p>A responsive portal to <b>register donors</b> and <b>find matching blood groups</b> quickly. Built with <b>HTML, CSS, Bootstrap</b> and <b>JavaScript</b>.</p>
      <a href="#register" class="btn btn-primary">Become a Donor</a>
      <a href="#find" class="btn btn-outline-danger">Find a Donor</a>
    </div>
  </div>

  <!-- Donor Registration -->
  <div class="container mt-5" id="register">
    <div class="card shadow p-4">
      <h3 class="text-danger mb-3">Donor Registration</h3>
      <form id="donorForm">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="form-label">Full Name *</label>
            <input type="text" class="form-control" id="name" required>
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label">Email *</label>
            <input type="email" class="form-control" id="email" required>
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label">Phone *</label>
            <input type="text" class="form-control" id="phone" required pattern="[0-9]{10}">
          </div>
          <div class="col-md-3 mb-3">
            <label class="form-label">Blood Group *</label>
            <select class="form-select" id="blood" required>
              <option value="">Choose...</option>
              <option>A+</option><option>A-</option>
              <option>B+</option><option>B-</option>
              <option>O+</option><option>O-</option>
              <option>AB+</option><option>AB-</option>
            </select>
          </div>
          <div class="col-md-3 mb-3">
            <label class="form-label">City *</label>
            <input type="text" class="form-control" id="city" required>
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Register Donor</button>
      </form>
    </div>
  </div>

  <!-- Find Donors -->
  <div class="container mt-5" id="find">
    <div class="card shadow p-4">
      <h3 class="text-danger mb-3">Find Donors</h3>
      <form id="searchForm">
        <div class="row">
          <div class="col-md-4 mb-3">
            <label class="form-label">Blood Group</label>
            <select class="form-select" id="searchBlood">
              <option value="">Any</option>
              <option>A+</option><option>A-</option>
              <option>B+</option><option>B-</option>
              <option>O+</option><option>O-</option>
              <option>AB+</option><option>AB-</option>
            </select>
          </div>
          <div class="col-md-4 mb-3">
            <label class="form-label">City</label>
            <input type="text" class="form-control" id="searchCity">
          </div>
          <div class="col-md-4 mb-3">
            <label class="form-label">Name</label>
            <input type="text" class="form-control" id="searchName">
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Search</button>
      </form>
      <div id="results" class="mt-4"></div>
    </div>
  </div>

  <!-- Admin Panel -->
  <div class="container mt-5" id="admin">
    <div class="card shadow p-4">
      <h3 class="text-danger mb-3">Admin Panel</h3>
      <p>Default admin password: <b>admin123</b> (for demo only).</p>
      <div class="input-group mb-3">
        <input type="password" id="adminPass" class="form-control" placeholder="enter to unlock">
        <button class="btn btn-danger" id="unlockBtn">Unlock</button>
      </div>
      <div id="adminContent" style="display:none;">
        <h5>Registered Donors</h5>
        <ul class="list-group" id="adminDonorList"></ul>
      </div>
    </div>
  </div>

  <footer>
    Â© Project by <b>Naisargi Trivedi</b>. Built with HTML, CSS, Bootstrap, and Vanilla JS.
  </footer>

  <script>
    let donors = [];

    // Register Donor
    document.getElementById("donorForm").addEventListener("submit", function(e){
      e.preventDefault();
      let donor = {
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        phone: document.getElementById("phone").value,
        blood: document.getElementById("blood").value,
        city: document.getElementById("city").value
      };
      donors.push(donor);
      alert("Donor Registered Successfully!");
      this.reset();
    });

    // Find Donor
    document.getElementById("searchForm").addEventListener("submit", function(e){
      e.preventDefault();
      let blood = document.getElementById("searchBlood").value;
      let city = document.getElementById("searchCity").value.toLowerCase();
      let name = document.getElementById("searchName").value.toLowerCase();

      let filtered = donors.filter(d => 
        (blood === "" || d.blood === blood) &&
        (city === "" || d.city.toLowerCase().includes(city)) &&
        (name === "" || d.name.toLowerCase().includes(name))
      );

      let output = "<ul class='list-group'>";
      if(filtered.length === 0){
        output += "<li class='list-group-item'>No matching donor found</li>";
      } else {
        filtered.forEach(d => {
          output += `<li class="list-group-item"><b>${d.name}</b> - ${d.blood}, ${d.city}, ${d.phone}, ${d.email}</li>`;
        });
      }
      output += "</ul>";
      document.getElementById("results").innerHTML = output;
    });

    // Admin Unlock
    document.getElementById("unlockBtn").addEventListener("click", function(){
      let pass = document.getElementById("adminPass").value;
      if(pass === "admin123"){
        document.getElementById("adminContent").style.display = "block";
        let list = document.getElementById("adminDonorList");
        list.innerHTML = "";
        donors.forEach(d => {
          list.innerHTML += `<li class="list-group-item"><b>${d.name}</b> - ${d.blood}, ${d.city}, ${d.phone}, ${d.email}</li>`;
        });
      } else {
        alert("Wrong password!");
      }
    });
  </script>

</body>
</html>
